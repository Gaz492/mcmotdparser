"use strict";function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var motdParser={classes:{bold:"mc_bold",italic:"mc_italic",underlined:"mc_underlined",strikethrough:"mc_strikethrough",obfuscated:"mc_obfuscated"},colors:{"§0":"black","§1":"dark-blue","§2":"dark-green","§3":"dark-acqua","§4":"dark-red","§5":"dark-purple","§6":"gold","§7":"gray","§8":"dark-gray","§9":"blue","§a":"green","§b":"aqua","§c":"red","§d":"light-purple","§e":"yellow","§f":"white"},extras:{"§k":"obfuscated","§l":"bold","§m":"strikethrough","§n":"underline","§o":"italic"},parseJsonToHTML:function(r){for(var t="",e="",o=Object.keys(r),a=0;a<o.length;a++){var s=o[a];if("text"!=s)if(motdParser.classes.hasOwnProperty(s))t+=" "+motdParser.classes[s];else if("color"!=s){if("extra"==s){var n=!0,l=!1,i=void 0;try{for(var c,u=r.extra[Symbol.iterator]();!(n=(c=u.next()).done);n=!0){var f=c.value;e+=motdParser.parseJsonToHTML(f)}}catch(r){l=!0,i=r}finally{try{n||null==u.return||u.return()}finally{if(l)throw i}}}}else t+=" mc_"+r[s];else e+=r.text}return'<span class="'+t.trim()+'">'+e+"</span>"},jsonToHtml:function(r,t){r=JSON.parse(JSON.stringify(r).split("\\n").join("<br>"));var e=motdParser.parseJsonToHTML(r);t(null,e='<div class="mc">'+e+"</div>")},textToJson:function(r,t){for(var e={text:"",extra:[]},o=e,a=r.split(""),s=0;s<a.length;s++){var n={};if("§"!=a[s])o.text+=a[s];else if("r"==a[s+1])n={text:"",extra:[]},e.extra.push(n),o=n,s++;else{var l="§"+a[s+1];n={text:"",extra:[]},motdParser.colors.hasOwnProperty(l)&&(n.color=motdParser.colors[l]),motdParser.extras.hasOwnProperty(l)&&(n[motdParser.extras[l]]=!0),o.extra.push(n),o=n,s++}}t(null,e)},toHtml:function(r,e){"object"===_typeof(r)?motdParser.jsonToHtml(r,function(r,t){console.log(t),r?e(r):e(null,t)}):"string"==typeof r&&motdParser.textToJson(r,function(r,t){r?e(r):motdParser.jsonToHtml(t,function(r,t){r?e(r):e(null,t)})})}};